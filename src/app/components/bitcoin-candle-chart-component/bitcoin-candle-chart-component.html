<div class="controls" style="display:flex;gap:16px;align-items:center;margin-bottom:12px;flex-wrap:wrap;">
  <mat-form-field appearance="outline">
    <mat-label>Symbol</mat-label>
    <mat-select [value]="selectedSymbol" (selectionChange)="onSymbolChange($event.value)">
      <mat-option *ngFor="let s of symbols" [value]="s.SymbolName">{{ s.SymbolName }}</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-button-toggle-group appearance="legacy" [value]="selectedTimeframe" (change)="onTimeframeChange($event.value)">
    <mat-button-toggle *ngFor="let tf of availableTimeframes" [value]="tf">{{ tf }}</mat-button-toggle>
  </mat-button-toggle-group>

  <div style="display:flex;gap:8px;align-items:center;">
  <mat-checkbox [checked]="showFib" (change)="toggleFib($event.checked)">Fibonacci</mat-checkbox>
  <mat-checkbox [checked]="showVolumeProfile" (change)="toggleVolumeProfile($event.checked)">Volume profile</mat-checkbox>
  <mat-checkbox [checked]="showEmaMma" (change)="toggleEmaMma($event.checked)">EMA/MMA</mat-checkbox>
  <mat-checkbox [checked]="showVwap" (change)="toggleVwap($event.checked)">VWAP/RVWAP</mat-checkbox>
  <button mat-stroked-button (click)="resetZoom()" style="margin-left:8px;">Reset Zoom</button>
  </div>
</div>

<div class="chart-container" style="height: 500px; width: 100%;">
  <canvas
    baseChart
    [data]="chartData"
    [options]="chartOptions"
    [type]="'candlestick'">
  </canvas>
</div>
