<app-header></app-header>

<div class="orders-container">
    <button mat-button (click)="back()">Back</button>
    <button mat-button (click)="refresh()">Refresh</button>

    <mat-card *ngFor="let order of orders" class="order-card">
        <mat-card-header>
            <mat-card-title>
                {{ order.Symbol }} • {{ order.Direction }} • {{ order.Status }}
            </mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <div class="order-row">
                <span>Entry:</span>
                <span>$ {{ order.EntryPrice | number:'1.2-4' }}</span>
            </div>

            <div class="order-row">
                <span>Current Price:</span>
                <span>$ {{ order.CurrentPrice | number:'1.2-4' }}</span>
            </div>

            <div class="order-row">
                <span>PnL:</span>
                <span>
                    $ {{ order.PnlAmount | number:'1.2-2' }}
                    ({{ order.PnlPercent | number:'1.2-2' }}%)
                </span>
            </div>

            <div class="order-row">
                <span>Stop Loss:</span>
                <span>$ {{ order.StopLoss | number:'1.2-4' }}</span>
            </div>

            <div class="order-row">
                <span>Target 1:</span>
                <span>$ {{ order.TargetPrice | number:'1.2-4' }}</span>
            </div>

            <div class="order-row">
                <span>Target 2:</span>
                <span>$ {{ order.Target2Price | number:'1.2-4' }}</span>
            </div>

            <div class="order-row">
                <span>Timeframe:</span>
                <span>{{ order.ExecutionTimeframe }} / {{ order.ConfirmationTimeframe }}</span>
            </div>

            <div class="order-row created-at">
                <span>Created:</span>
                <span>{{ order.CreatedAt | date:'HH:mm dd/MM/yyyy' }}</span>
            </div>

            <div class="order-row" *ngIf="order.ExitPrice">
                <span>Exit Price:</span>
                <span>$ {{ order.ExitPrice | number:'1.2-4' }}</span>
            </div>

            <div class="order-row" *ngIf="order.ExitType">
                <span>Exit Type:</span>
                <span>{{ order.ExitType }}</span>
            </div>

            <div class="order-row" *ngIf="order.FailureReason">
                <span>Failure Reason:</span>
                <span>{{ order.FailureReason }}</span>
            </div>
        </mat-card-content>

        <mat-card-actions>
            <button mat-stroked-button color="{{ getStatusColor(order.Status) }}" disabled>
                {{ order.Status }}
            </button>

            <span class="spacer"></span>

            <!-- <button mat-stroked-button color="warn" (click)="deleteOrder(order.Id)">
                Delete
            </button> -->
        </mat-card-actions>
    </mat-card>
</div>