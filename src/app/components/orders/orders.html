<app-header></app-header>
<div class="orders-container">
    <button mat-button (click)="back()">back</button>
    <button mat-button (click)="refresh()">refresh</button>
    <mat-card *ngFor="let order of orders" class="order-card">
        <mat-card-header>
            <mat-card-title>{{ order.Symbol }} • {{ order.Direction }} • {{ order.Status }}</mat-card-title>
        </mat-card-header>

        <mat-card-content>
            <div class="order-row">
                <span>Entry:</span>
                <span>$ {{ order.EntryPrice | number:'1.2-4' }}</span>
            </div>
            <div class="order-row">
                <span>Stop Loss:</span>
                <span>$ {{ order.StopLoss | number:'1.2-4'}}</span>
            </div>
            <div class="order-row">
                <span>Target 1:</span>
                <span>$ {{ order.TargetPrice | number:'1.2-4' }}</span>
            </div>
            <div class="order-row">
                <span>Target 2:</span>
                <span>$ {{ order.Target2Price | number:'1.2-4'}}</span>
            </div>
            <div class="order-row">
                <span>Timeframe:</span>
                <span>{{ order.ExecutionTimeframe }} / {{ order.ConfirmationTimeframe }}</span>
            </div>
            <div class="order-row created-at">
                <span>Created:</span>
                <span>{{ order.CreatedAt | date:'HH:mm dd/MM/yyyy' }}</span>
            </div>
        </mat-card-content>

        <mat-card-actions>
            <mat-card-actions>
                <button mat-stroked-button color="{{ getStatusColor(order.Status) }}" disabled>
                    {{ order.Status }}
                </button>

                <span class="spacer"></span>

                <button mat-stroked-button color="warn" (click)="deleteOrder(order.Id)">
                    Delete
                </button>
            </mat-card-actions>
        </mat-card-actions>
    </mat-card>
</div>