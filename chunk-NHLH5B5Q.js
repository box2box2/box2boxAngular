import{$ as B,Z as F,_ as N,aa as L,ba as V,ca as $,d as R,da as G,ea as z,f as j,fa as K,g,ga as U,ha as W,ia as q,s as A,u as H}from"./chunk-IRFA3E6S.js";import{$b as c,Ab as n,Bb as m,Gb as y,Kb as s,Mb as C,Nb as I,Ob as E,Ua as o,Xb as k,Ya as O,Za as l,_b as i,ac as T,bc as h,cc as w,eb as p,fc as P,gc as D,ia as S,ja as x,jb as b,ka as _,la as M,yb as v,zb as t}from"./chunk-T4AVKGHG.js";import"./chunk-TSRGIXR5.js";var Z=["*"],u=class d{constructor(r,e,a){this.renderer=r;this._appService=e;this._router=a}headerColor=null;ngOnInit(){let r=localStorage.getItem("theme");r==="light"?this.renderer.removeClass(document.body,"dark-theme"):(this.renderer.addClass(document.body,"dark-theme"),r||localStorage.setItem("theme","dark"))}toggleTheme(){let r=document.body.classList.toggle("dark-theme");localStorage.setItem("theme",r?"dark":"light")}logout(){this._appService.logout()}navigate(r){console.log("navigating to",r),this._router.navigate([`/${r}`])}static \u0275fac=function(e){return new(e||d)(l(O),l(H),l(A))};static \u0275cmp=p({type:d,selectors:[["app-header"]],inputs:{headerColor:"headerColor"},ngContentSelectors:Z,decls:12,vars:2,consts:[[1,"app-header"],["aria-label","Toggle theme",1,"theme-toggle",3,"click"],["viewBox","0 0 24 24",1,"icon"],["href","#theme-light-dark"],[1,"flex-spacer"],["matRipple","",3,"click"],["color","accent"],[1,"mat-label-large"]],template:function(e,a){e&1&&(I(),t(0,"header",0),E(1),t(2,"button",1),s("click",function(){return a.toggleTheme()}),_(),t(3,"svg",2),m(4,"use",3),n(),i(5," DARK "),n(),M(),m(6,"div",4),t(7,"div",5),s("click",function(){return a.logout()}),t(8,"mat-icon",6),i(9,"logout"),n(),t(10,"h3",7),i(11,"Uitloggen"),n()()()),e&2&&k("background-color",a.headerColor||"var(--sys-primary-container)")},dependencies:[g,W,U],styles:[".app-header[_ngcontent-%COMP%]{background-color:var(--sys-primary-container);color:var(--sys-secondary);display:flex;align-items:center;justify-content:space-between}"],changeDetection:0})};function ee(d,r){if(d&1){let e=y();t(0,"mat-card",2)(1,"mat-card-header")(2,"mat-card-title"),i(3),n(),t(4,"mat-card-subtitle"),i(5),n()(),t(6,"mat-card-content")(7,"div",3)(8,"span"),i(9,"Entry:"),n(),t(10,"span"),i(11),n()(),t(12,"div",3)(13,"span"),i(14,"Stop Loss:"),n(),t(15,"span"),i(16),n()(),t(17,"div",3)(18,"span"),i(19,"Target 1:"),n(),t(20,"span"),i(21),n()(),t(22,"div",3)(23,"span"),i(24,"Target 2:"),n(),t(25,"span"),i(26),n()(),t(27,"div",3)(28,"span"),i(29,"Timeframe:"),n(),t(30,"span"),i(31),n()(),t(32,"div",4)(33,"span"),i(34,"Created:"),n(),t(35,"span"),i(36),P(37,"date"),n()()(),t(38,"mat-card-actions")(39,"button",5),i(40),n(),t(41,"button",6),s("click",function(){let f=S(e).$implicit,Q=C();return x(Q.deleteOrder(f.Id))}),i(42,"Delete"),n()()()}if(d&2){let e=r.$implicit,a=C();o(3),c(e.Symbol),o(2),h(" ",e.Direction," \u2022 ",e.Status," "),o(6),c(e.EntryPrice),o(5),c(e.StopLoss),o(5),c(e.TargetPrice),o(5),c(e.Target2Price),o(5),h("",e.ExecutionTimeframe," / ",e.ConfirmationTimeframe),o(5),c(D(37,13,e.CreatedAt,"short")),o(3),v("color",w(a.getStatusColor(e.Status))),o(),T(" ",e.Status," ")}}var J=class d{constructor(r){this._marketService=r}orders=[];ngOnInit(){this._marketService.getOrders().subscribe(r=>{this.orders=r,console.log("Orders fetched:",this.orders)})}getStatusColor(r){switch(r){case"NEW":return"accent";case"TARGET1":return"primary";case"TARGET2":return"warn";default:return""}}deleteOrder(r){this._marketService.deleteOrder(r).subscribe(()=>{this.orders=this.orders.filter(e=>e.Id!==r),console.log(`Order with ID ${r} deleted.`)})}static \u0275fac=function(e){return new(e||d)(l(q))};static \u0275cmp=p({type:d,selectors:[["app-orders"]],decls:3,vars:1,consts:[[1,"orders-container"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-row"],[1,"order-row","created-at"],["mat-stroked-button","","disabled","",3,"color"],["mat-stroked-button","","color","warn",3,"click"]],template:function(e,a){e&1&&(m(0,"app-header"),t(1,"div",0),b(2,ee,43,16,"mat-card",1),n()),e&2&&(o(2),v("ngForOf",a.orders))},dependencies:[K,B,G,V,z,$,L,N,F,g,R,u,j],styles:[".orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:8px}.order-card[_ngcontent-%COMP%]{border-radius:16px}.order-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:4px 0}.order-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:500;color:#666}.order-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-weight:600}.created-at[_ngcontent-%COMP%]{font-size:.8rem;color:#999}"]})};export{J as OrdersComponent};
