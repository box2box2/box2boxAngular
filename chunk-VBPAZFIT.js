import{a as G}from"./chunk-D52IOBLC.js";import{$,R as I,S as P,Z as B,_ as D,aa as F,ba as A,c as E,ca as H,da as N,e as w,ea as j,f as y,g as T,ha as V}from"./chunk-C5JIUREF.js";import{$b as d,Ab as t,Bb as _,Gb as b,Kb as l,Lb as x,Ua as a,Za as u,Zb as i,_b as O,ac as M,bc as k,cc as h,eb as S,fc as s,gc as c,ia as C,ja as g,jb as v,yb as f,zb as r}from"./chunk-5QXQLTZQ.js";import"./chunk-TSRGIXR5.js";function z(m,n){if(m&1){let e=b();r(0,"mat-card",3)(1,"mat-card-header")(2,"mat-card-title"),i(3),t()(),r(4,"mat-card-content")(5,"div",4)(6,"span"),i(7,"Entry:"),t(),r(8,"span"),i(9),s(10,"number"),t()(),r(11,"div",4)(12,"span"),i(13,"Stop Loss:"),t(),r(14,"span"),i(15),s(16,"number"),t()(),r(17,"div",4)(18,"span"),i(19,"Target 1:"),t(),r(20,"span"),i(21),s(22,"number"),t()(),r(23,"div",4)(24,"span"),i(25,"Target 2:"),t(),r(26,"span"),i(27),s(28,"number"),t()(),r(29,"div",4)(30,"span"),i(31,"Timeframe:"),t(),r(32,"span"),i(33),t()(),r(34,"div",5)(35,"span"),i(36,"Created:"),t(),r(37,"span"),i(38),s(39,"date"),t()()(),r(40,"mat-card-actions")(41,"mat-card-actions")(42,"button",6),i(43),t(),_(44,"span",7),r(45,"button",8),l("click",function(){let p=C(e).$implicit,R=x();return g(R.deleteOrder(p.Id))}),i(46," Delete "),t()()()()}if(m&2){let e=n.$implicit,o=x();a(3),k("",e.Symbol," \u2022 ",e.Direction," \u2022 ",e.Status),a(6),d("$ ",c(10,13,e.EntryPrice,"1.2-4")),a(6),d("$ ",c(16,16,e.StopLoss,"1.2-4")),a(6),d("$ ",c(22,19,e.TargetPrice,"1.2-4")),a(6),d("$ ",c(28,22,e.Target2Price,"1.2-4")),a(6),M("",e.ExecutionTimeframe," / ",e.ConfirmationTimeframe),a(5),O(c(39,25,e.CreatedAt,"HH:mm dd/MM/yyyy")),a(4),f("color",h(o.getStatusColor(e.Status))),a(),d(" ",e.Status," ")}}var L=class m{constructor(n,e){this._marketService=n;this._snackbar=e}orders=[];ngOnInit(){this._marketService.getOrders().subscribe(n=>{this.orders=n,console.log("Orders fetched:",this.orders)})}getStatusColor(n){switch(n){case"NEW":return"accent";case"TARGET1":return"primary";case"TARGET2":return"warn";default:return""}}deleteOrder(n){this._marketService.deleteOrder(n).subscribe(()=>{this.orders=this.orders.filter(e=>e.Id!==n),console.log(`Order with ID ${n} deleted.`)})}refresh(){this._marketService.getOrders().subscribe(n=>{this.orders=n,console.log("Orders refreshed:",this.orders),this._snackbar.open("Orders refreshed","Close",{duration:2e3})})}back(){window.history.back()}static \u0275fac=function(e){return new(e||m)(u(V),u(B))};static \u0275cmp=S({type:m,selectors:[["app-orders"]],decls:7,vars:1,consts:[[1,"orders-container"],["mat-button","",3,"click"],["class","order-card",4,"ngFor","ngForOf"],[1,"order-card"],[1,"order-row"],[1,"order-row","created-at"],["mat-stroked-button","","disabled","",3,"color"],[1,"spacer"],["mat-stroked-button","","color","warn",3,"click"]],template:function(e,o){e&1&&(_(0,"app-header"),r(1,"div",0)(2,"button",1),l("click",function(){return o.back()}),i(3,"back"),t(),r(4,"button",1),l("click",function(){return o.refresh()}),i(5,"refresh"),t(),v(6,z,47,28,"mat-card",2),t()),e&2&&(a(6),f("ngForOf",o.orders))},dependencies:[j,$,H,A,N,F,P,I,T,E,G,D,y,w],styles:[".orders-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;padding:8px}.order-card[_ngcontent-%COMP%]{border-radius:16px}.order-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin:4px 0}.order-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-weight:500;color:#666}.order-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{font-weight:600}.created-at[_ngcontent-%COMP%]{font-size:.8rem;color:#999}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})};export{L as OrdersComponent};
