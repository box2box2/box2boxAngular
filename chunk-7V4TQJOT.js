import{g as T,i as D,j as F,k as A}from"./chunk-NQE72MAN.js";import{$ as j,P as B,X as O,Z as W,_ as H,aa as R,ba as P,ca as N,f as w,i as E,k as h}from"./chunk-HAR5U2Y2.js";import{Ab as t,Bb as d,Kb as s,Mb as k,Nb as x,Ua as r,Wb as b,Ya as S,Za as m,Zb as n,_b as c,bc as I,eb as p,ic as M,jb as C,jc as y,ka as u,la as g,yb as _,zb as e}from"./chunk-REBDJAD6.js";import"./chunk-TSRGIXR5.js";var K=["*"],f=class o{constructor(a,i,l){this.renderer=a;this._appService=i;this._router=l}headerColor=null;ngOnInit(){let a=localStorage.getItem("theme");a==="light"?this.renderer.removeClass(document.body,"dark-theme"):(this.renderer.addClass(document.body,"dark-theme"),a||localStorage.setItem("theme","dark"))}toggleTheme(){let a=document.body.classList.toggle("dark-theme");localStorage.setItem("theme",a?"dark":"light")}logout(){this._appService.logout()}navigate(a){console.log("navigating to",a),this._router.navigate([`/${a}`])}static \u0275fac=function(i){return new(i||o)(m(S),m(D),m(T))};static \u0275cmp=p({type:o,selectors:[["app-header"]],inputs:{headerColor:"headerColor"},ngContentSelectors:K,decls:12,vars:2,consts:[[1,"app-header"],["aria-label","Toggle theme",1,"theme-toggle",3,"click"],["viewBox","0 0 24 24",1,"icon"],["href","#theme-light-dark"],[1,"flex-spacer"],["matRipple","",3,"click"],["color","accent"],[1,"mat-label-large"]],template:function(i,l){i&1&&(k(),e(0,"header",0),x(1),e(2,"button",1),s("click",function(){return l.toggleTheme()}),u(),e(3,"svg",2),d(4,"use",3),t(),n(5," DARK "),t(),g(),d(6,"div",4),e(7,"div",5),s("click",function(){return l.logout()}),e(8,"mat-icon",6),n(9,"logout"),t(),e(10,"h3",7),n(11,"Uitloggen"),t()()()),i&2&&b("background-color",l.headerColor||"var(--sys-primary-container)")},dependencies:[h,A,F],styles:[".app-header[_ngcontent-%COMP%]{background-color:var(--sys-primary-container);color:var(--sys-secondary);display:flex;align-items:center;justify-content:space-between}"],changeDetection:0})};function U(o,a){if(o&1&&(e(0,"mat-card",3)(1,"mat-card-header")(2,"mat-card-title"),n(3),t()(),e(4,"mat-card-content")(5,"div",4)(6,"span"),n(7,"Timeframe:"),t(),e(8,"span"),n(9),t()(),e(10,"div",4)(11,"span"),n(12,"Box ID:"),t(),e(13,"span"),n(14),t()(),e(15,"div",4)(16,"span"),n(17,"State:"),t(),e(18,"span"),n(19),t()(),e(20,"div",4)(21,"span"),n(22,"Bars Since:"),t(),e(23,"span"),n(24),t()(),e(25,"div",4)(26,"span"),n(27,"Max Bars:"),t(),e(28,"span"),n(29),t()(),e(30,"div",4)(31,"span"),n(32,"Trade Plan:"),t(),e(33,"span"),n(34),t()(),e(35,"div",5)(36,"span"),n(37,"Created:"),t(),e(38,"span"),n(39),M(40,"date"),t()()()()),o&2){let i=a.$implicit;r(3),I("",i.Symbol," \u2022 ",i.Direction," \u2022 ",i.Status),r(6),c(i.Timeframe),r(5),c(i.BoxId),r(5),c(i.State),r(5),c(i.BarsSince),r(5),c(i.MaxBars),r(5),c(i.TradePlanId),r(5),c(y(40,10,i.CreatedAt,"HH:mm dd/MM/yyyy"))}}var L=class o{constructor(a,i){this._marketService=a;this._snackbar=i}watchlist=[];ngOnInit(){this._marketService.getWatchlist().subscribe(a=>{this.watchlist=a,console.log("watchlist fetched:",this.watchlist),this._snackbar.open("Watchlist loaded","Close",{duration:2e3})})}refresh(){this._marketService.getWatchlist().subscribe(a=>{this.watchlist=a,console.log("watchlist refreshed:",this.watchlist),this._snackbar.open("watchlist refreshed","Close",{duration:2e3})})}back(){window.history.back()}static \u0275fac=function(i){return new(i||o)(m(N),m(O))};static \u0275cmp=p({type:o,selectors:[["app-watchlist"]],decls:7,vars:1,consts:[[1,"watchlist-container"],["mat-button","",3,"click"],["class","watchlist-card",4,"ngFor","ngForOf"],[1,"watchlist-card"],[1,"watchlist-row"],[1,"watchlist-row","created-at"]],template:function(i,l){i&1&&(d(0,"app-header"),e(1,"div",0)(2,"button",1),s("click",function(){return l.back()}),n(3,"back"),t(),e(4,"button",1),s("click",function(){return l.refresh()}),n(5,"refresh"),t(),C(6,U,41,13,"mat-card",2),t()),i&2&&(r(6),_("ngForOf",l.watchlist))},dependencies:[h,w,P,W,j,R,H,f,B,E],encapsulation:2})};export{L as WatchlistComponent};
